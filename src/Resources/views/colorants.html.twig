{% macro text(_colorants) %}
    {% if _colorants|length %}
        {{ "ecolos_sylius_eu_plugin.containsColorant"|trans }}

        {% set colorants = [] %}
        {% for colorant in _colorants if colorant != 1 %}
            {% set colorants = colorants|merge([colorant]) %}
        {% endfor %}

        {% if colorants|length %}
            {% set header = "ecolos_sylius_eu_plugin.colorant"|transchoice(colorants|length) %}

            {{ "ecolos_sylius_eu_plugin.%colorants% warning"|transchoice(colorants|length, {
                'colorants': header  ~ ' ' ~ colorants|join(', ', ' & ')
            }) }}
        {% endif %}
    {% endif %}
{% endmacro %}

{% macro html(product, variant) %}
    {% import _self as macros %}

    {% if variant.colorants|length or product.colorants|length %}
        <div class="ecolos_product_variant_colorants">
            {% if variant.colorants|length %}
                <div>{{ macros.text(variant.colorants) }}</div>
            {% elseif product.colorants|length %}
                <div>{{ macros.text(product.colorants) }}</div>
            {% endif %}
        </div>
    {% endif %}
{% endmacro %}


