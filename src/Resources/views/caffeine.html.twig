{% macro text(mg) %}
    {% if mg matches '/^\\d+$/' %}
        <strong>{{ 'ecolos_sylius_eu_plugin.caffeineHigh' | trans }}: </strong>
        {{ mg }} {{ 'ecolos_sylius_eu_plugin.mgPerPortion' | trans }} {{ 'ecolos_sylius_eu_plugin.caffeineWarning' | trans }}
    {% endif %}
{% endmacro %}

{% macro html(product, variant) %}
    {% if variant.caffeine is not null and product.caffeine is not null %}
        <div class="ecolos_product_variant_caffeine">
            {% import _self as macros %}

            {{ macros.text(variant is not null ? variant.caffeine : product.caffeine) }}
        </div>
    {% endif %}
{% endmacro %}